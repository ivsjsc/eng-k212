<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sound Generator</title>
</head>
<body>
    <h1>Tạo file âm thanh MP3</h1>
    <button onclick="generateOpen()">Tạo open.mp3</button>
    <button onclick="generateClose()">Tạo close.mp3</button>
    <button onclick="generateNotification()">Tạo notification.mp3</button>
    
    <script>
        // Generate simple beep sounds using Web Audio API
        function generateSound(frequency, duration, filename) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
            
            // Record and download
            const mediaStreamDestination = audioContext.createMediaStreamDestination();
            gainNode.connect(mediaStreamDestination);
            
            const mediaRecorder = new MediaRecorder(mediaStreamDestination.stream);
            const chunks = [];
            
            mediaRecorder.ondataavailable = (e) => chunks.push(e.data);
            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'audio/webm' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
            };
            
            mediaRecorder.start();
            setTimeout(() => mediaRecorder.stop(), duration * 1000 + 100);
        }
        
        function generateOpen() {
            generateSound(800, 0.15, 'open.mp3');
        }
        
        function generateClose() {
            generateSound(400, 0.1, 'close.mp3');
        }
        
        function generateNotification() {
            generateSound(1000, 0.3, 'notification.mp3');
        }
    </script>
</body>
</html>
